# 数据预处理和可视化作业-1

## DataProcess.py

- 用于处理之前爬虫爬下来的json数据，利用了`pandas`库读取json文件、处理数据，将处理好的数据转换为csv数据文件。
- 利用`pandas`库处理过的数据构建新的列，并提取这些列形成新的数据框，将这些数据利用`to_csv`转换为csv文件。
- 其中房型和面积都是从原json文件中的相应字段中提取了常数，然后将平均值作为最后结果。选平均值的原因：
  - 平均值能够综合反映楼盘所提供房型和面积的整体水平，对于购房者或分析者来说，可以更好地了解该楼盘的主要定位和特点。
  - 在比较不同楼盘时，使用平均值可以使得各楼盘之间的房型和面积具有可比性，更有利于分析市场趋势和特点。
  - 在后续的可视化和数据分析中，平均房型和平均面积有助于进行相关性分析，如面积与总价的关系等。

## DataDrawer.py

- 读取`DataProcess.py`里面产生的csv文件
- 散点图：
  - 从‘类型’列里面提取楼盘类型
  - 为每种楼盘分配一个颜色
  - ‘均价’列作为横坐标，‘总价’列作为纵坐标，然后根据刚刚分配的颜色指定每个点的颜色，根据楼盘类型进行区分
  - 最终结果保存在 `house_data_pics/unit_total_pic.png`
- 柱状图：
  - 使用`groupby`，将数据按行政区分组，计算均价和总价的平均值，并且计算行政区中楼的数量
  - 使用如下表达式，将楼盘数量映射到[min_width, max_width]的区间上：
    `min_width + (grouped['楼盘数量'] - num_min) / (num_max - num_min) * (max_width - min_width)`
  - 由于柱子的宽度不一致，因此需要逐个绘制
- 增加其他表现数据特点的图表
  - 用`matplotlib.pyplot`的`pie`绘制了楼盘类型的饼状图

## 文件位置

- origin_data文件夹：存放json文件
- processed_data文件夹：存放csv文件
- house_data_pics：存放绘制的图表